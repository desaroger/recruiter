webpackJsonp([0],[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var c=n(1),i=a(c),o=n(3),r=a(o),l=n(4),d=a(l),s=n(9),u=a(s);n(10);var m=n(13),f=a(m),g=n(15),b=a(g),p=n(16),v=a(p),h=n(27),x=a(h),y=n(31),_=a(y);i.default.module("app",[r.default,d.default,u.default,"restangular",f.default,v.default,x.default,_.default]).config(b.default)},,,,,,,,,,,,,,,function(e,t){"use strict";function n(e,t){"ngInject";e.setBaseUrl("http://localhost:3000/"),t.theme("grey").primaryPalette("grey")}n.$inject=["RestangularProvider","$mdThemingProvider"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var c=n(17),i=a(c);t.default=angular.module("base",[]).config(i.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){"ngInject";t.otherwise("/"),e.state("base",{url:"/",redirectTo:"base.contacts",template:o.default.template,controller:o.default.controller})}c.$inject=["$stateProvider","$urlRouterProvider"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var i=n(18),o=a(i)},[51,19,22,23],function(e,t,n){function a(e){var t,n="";return n=n+'<div layout="column" layout-align="center start" tabindex="-1" role="main" flex><!-- Toolbar for a contacts loading error--><md-toolbar class="md-warn" ng-if="contacts.error"><div class="md-toolbar-tools"><h2 class="md-flex"><md-icon>error</md-icon><span>'+c.escape(null==(t=" ")?"":t)+'</span><span>{{ contacts.error }}</span></h2></div></md-toolbar><!-- Main toolbar--><md-toolbar class="md-hue-2" ng-if="!contacts.search"><div class="md-toolbar-tools"><md-button class="md-icon-button" ng-if="state.params.backButton" aria-label="Open Sidebar" ng-click="state.go(\'^\')"><md-icon>arrow_back</md-icon></md-button><h2>Contacts</h2><span flex=""></span><md-button class="md-icon-button" ng-if="state.current.name == \'base.contacts\'" ng-click="contacts.toggleSearch()" aria-label="search"><md-icon>search</md-icon></md-button></div></md-toolbar><!-- Toolbar for searching--><md-toolbar id="search-toolbar" ng-if="contacts.search" md-theme="grey"><div class="md-toolbar-tools"><md-button class="md-icon-button" ng-click="contacts.toggleSearch()" aria-label="Back"><md-icon>arrow_back</md-icon></md-button><md-input-container flex=""><label>&nbsp;</label><input ng-model="contacts.searchTerm" ng-change="contacts.update()" placeholder="enter search" autofocus></md-input-container><md-button class="md-icon-button" aria-label="Search" ng-click="contacts.update()" ng-disabled="!contacts.searchTerm"><md-icon>search</md-icon></md-button></div></md-toolbar><!-- Main content--><md-content id="main-content" flex="" layout-padding="" style="width:100%"><ui-view></ui-view></md-content></div>'}var c=n(20);e.exports=a},,function(e,t){},function(e,t){"use strict";function n(e,t,n,a){"ngInject";e.cl=function(e){return console.log(e)},e.ui=n,e.state=t,e.contacts=a,"base"==t.current.name&&t.go("base.contacts"),e.$on("$stateChangeStart",function(e,n,c,i,o,r){"base.contacts.detail"==n.name&&"new"==c.id&&(e.preventDefault(),t.go("base.contacts")),"base.contacts"==n.name&&a.update()})}n.$inject=["$rootScope","$state","uiService","contactsService"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n(28);var c=n(30),i=a(c);t.default=angular.module("ui",[]).service("uiService",i.default).name},23,,function(e,t){"use strict";function n(){"ngInject";return{}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var c=n(32),i=a(c),o=n(48),r=a(o),l=n(49),d=a(l),s=n(50),u=a(s);t.default=angular.module("contacts",[]).config(i.default).factory("Contact",r.default).factory("ImageModel",d.default).service("contactsService",u.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function c(e){"ngInject";e.state("base.contacts",{url:"contacts",template:o.default.template,controller:o.default.controller}).state("base.contacts.detail",{url:"/:id",params:{backButton:!0},template:l.default.template,controller:l.default.controller}).state("base.contacts.detail.edit",{url:"/edit",params:{backButton:!0},template:s.default.template,controller:s.default.controller})}c.$inject=["$stateProvider"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var i=n(33),o=a(i),r=n(38),l=a(r),d=n(43),s=a(d)},[51,34,35,36],function(e,t,n){function a(e){var t="";return t+='<ui-view><div layout="row" layout-align="center start"><!-- 30% screen for the filter card. Hidden on XS.--><div flex="30" layout="row" layout-align="center start" hide-xs><div flex="0" flex-sm="0" flex-md="25" flex-lg="45" flex-xl="45"></div><md-card flex="100" flex-sm="100" flex-md="70" flex-lg="50" flex-xl="50"><md-toolbar><div class="md-toolbar-tools"><h2>Filter by tag</h2></div></md-toolbar><md-card-content><div layout="column" layout-wrap="" flex=""><div flex="50" ng-repeat="filter in contacts.getAvailableFilters()"><md-checkbox ng-model="contacts.filters[filter]" ng-change="contacts.update()">{{ filter }}</md-checkbox></div></div><p class="empty-message" ng-if="!contacts.getAvailableFilters().length">Here will appear the available tags to filter</p></md-card-content></md-card><div flex></div></div><!-- 70% screen for the contacts list card. 100% on XS.--><div flex="70" flex-xs="100" layout="row" layout-align="center start"><div flex="0" flex-sm="0" flex-md="5" flex-lg="5" flex-xl="5"></div><md-card flex="100" flex-sm="100" flex-md="60" flex-lg="60" flex-xl="50"><md-card-content><md-list><md-list-item class="md-3-line" ng-repeat="contact in contacts.list" ui-sref="base.contacts.detail(contact)"><img class="md-avatar" ng-src="{{ contact.images[0].thumbnail }}" alt="{{item.who}}"><div class="md-list-item-text"><h3>{{ contact.name }}</h3><h4>{{ contact.email}}</h4><p>{{ contact.description }}</p></div><md-divider md-inset="" ng-if="!$last"></md-divider></md-list-item><p class="empty-message" ng-if="!contacts.list.length">Add your first contact clicking on the big floating button.</p></md-list></md-card-content></md-card><div flex></div></div></div><!-- FAB button--><md-button class="md-fab md-fab-bottom-right md-primary" ui-sref="base.contacts.detail.edit({id: \'new\'})" aria-label="Add new contact"><md-icon>person_add</md-icon></md-button></ui-view>'}n(20);e.exports=a},function(e,t){"use strict";function n(e){"ngInject";e.update()}n.$inject=["contactsService"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},23,,[51,39,40,41],function(e,t,n){function a(e){var t="";return t+='<ui-view><div layout="row" layout-align="center start"><div flex="" hide-xs></div><md-card flex-xs="100" flex-sm="70" flex-md="60" flex-lg="40" flex-xl="30"><div class="image-container" style="height: 200px; background-image: url({{ contact.images[0].image }}); background-size: cover; background-position: center"></div><md-card-title><md-card-title-text><span class="md-headline">{{ contact.name }}</span></md-card-title-text></md-card-title><md-card-content><md-list flex><!-- Description--><md-list-item><p>{{ contact.description }}</p></md-list-item><!-- Emails--><md-divider></md-divider><md-subheader class="md-no-sticky">Emails</md-subheader><md-list-item class="secondary-button-padding" ng-repeat="email in contact.emails" ng-ref="google.com"><p>{{ email }}</p><md-button class="md-secondary" aria-label="email"><a ng-href="mailto:{{ email }}"><md-icon>email</md-icon></a></md-button></md-list-item><!-- Phones--><md-divider></md-divider><md-subheader class="md-no-sticky">Phones</md-subheader><md-list-item class="secondary-button-padding" ng-repeat="phone in contact.phones"><p>{{ phone }}</p><md-button class="md-secondary" aria-label="call"><a ng-href="tel:{{ phone }}"><md-icon>call</md-icon></a></md-button></md-list-item><!-- Tags--><md-divider></md-divider><md-subheader class="md-no-sticky">Tags</md-subheader><md-chips ng-model="contact.tags" readonly="true"><md-chip-template> {{ $chip }}</md-chip-template></md-chips></md-list></md-card-content><!-- Action buttons--><md-card-actions layout="row" layout-align="end center"><md-button ng-click="showConfirmDelete()">Delete</md-button><md-button class="md-accent" ui-sref=".edit">Edit</md-button></md-card-actions></md-card><div flex="" hide-xs></div></div></ui-view>'}n(20);e.exports=a},function(e,t){"use strict";function n(e,t,n,a,c,i){"ngInject";"base.contacts.detail"==n.$current.name&&"new"==t.id&&n.go(".^"),e.loadContact=function(t){return"new"==t?e.contact=a.build({emails:[],phones:[],tags:[]}):a.one(t).get({_embed:"images"}).then(function(t){return e.contact=t})},e.showConfirmDelete=function(t){var a=c.confirm().title("Would you like to delete this contact?").textContent("Will be removed permanently. This action can not be undone.").ariaLabel("delete contact").targetEvent(t).ok("yes, delete").cancel("cancel");c.show(a).then(function(){return e.contact.remove()}).then(function(){return i.update()}).then(function(){return n.go("base.contacts")})},e.contact=i.list.find(function(e){return e.id==t.id}),e.contact||e.loadContact(t.id),i.toggleSearch(!1)}n.$inject=["$scope","$stateParams","$state","Contact","$mdDialog","contactsService"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},23,,[51,44,45,46],function(e,t,n){function a(e){var t="";return t+='<div layout="row" layout-align="center start"><div flex="" hide-xs></div><md-card flex-xs="100" flex-sm="70" flex-md="60" flex-lg="40" flex-xl="30"><!-- Image--><div class="hover"><div class="buttons-container no-pointer-events"><md-button class="no-pointer-events" md-colors="{background: \'primary\' }"><span>change</span></md-button><md-button class="md-button-icon pointer-events" ng-if="image" ng-click="cleanImage()" md-colors="{background: \'red\' }"><span>remove</span></md-button></div><div class="image-container" style="background-image: url({{ image }})" ng-class="{\'has-image\': !!image}"><input class="hide" id="image-input" type="file" ng-model="image" base-sixty-four-input="" parser="imageParser"><label class="clicable" for="image-input"><div class="backdrop"></div></label></div></div><!-- Fields--><md-card-content><md-input-container><label>Name</label><input ng-model="contact.name"></md-input-container><md-input-container class="md-block"><label>Description</label><textarea ng-model="contact.description" rows="1" md-select-on-focus=""></textarea></md-input-container><md-input-container><label>Emails</label><md-chips ng-model="contact.emails" md-removable="true"></md-chips></md-input-container><md-input-container><label>Phones</label><md-chips ng-model="contact.phones" md-removable="true"></md-chips></md-input-container><md-input-container><label>Tags</label><md-chips ng-model="contact.tags" md-removable="true" md-autocomplete-snap md-require-match="false"><md-autocomplete md-selected-item="selectedItem" md-search-text="searchText" md-items="item in querySearch(searchText)" md-item-text="item" placeholder=""><span md-highlight-text="null">{{item}}</span></md-autocomplete></md-chips></md-input-container></md-card-content><!-- Action buttons--><md-card-actions layout="row" layout-align="end center"><md-button ng-click="cancel(contact)">Cancel</md-button><md-button class="md-accent" ng-click="save(contact)">Done</md-button></md-card-actions></md-card><div flex="" hide-xs></div></div>'}n(20);e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a,c){"ngInject";function i(e){return"data:"+e.filetype+";base64,"+e.base64}e.save=function(n){return a.updateWithImage(n,e.image).then(function(t){return e.loadContact(t.id)}).then(function(e){return c.update(),t.go(".^",{id:e.id}),e})},e.cancel=function(n){"new"==t.params.id?t.go("base.contacts"):e.loadContact(n.id).then(function(){t.go(".^")})},e.querySearch=function(e){var t=c.getAvailableFilters(),n=e?t.filter(function(t){return t.startsWith(e)}):[];return n},e.cleanImage=function(){e.image=""},e.imageParser=function(e,t){var a=n.defer(),c=i(t);return a.resolve(c),a.promise},e.$watch("contact",function(t){e.image||(e.image=o.default.get(t,"images[0].image"))})}c.$inject=["$scope","$state","$q","Contact","contactsService"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var i=n(11),o=a(i)},23,,function(e,t){"use strict";function n(e,t,n){"ngInject";function a(t,n,a){var c=e.defer();if(!t)return c.resolve(""),c.promise;var i=document.createElement("canvas"),o=i.getContext("2d");i.width=n,i.height=a;var r=new Image;return r.onload=function(){o.drawImage(r,0,0,n,a),c.resolve(i.toDataURL())},r.src=t,c.promise}var c=t.service("contacts");return c.build=function(e){return t.restangularizeElement(null,e,"contacts")},c.updateWithImage=function(e,t){return delete e.image,delete e.thumbnail,delete e.images,e.save().then(function(n){return e=n,a(t,100,100)}).then(function(a){var c={contactId:""+e.id};return n.getList(c).then(function(e){var i=e[0];return i||(i=n.build(c)),i.image=t,i.thumbnail=a,i.save()})}).then(function(t){return Object.assign(e,{images:[t]}),e})},c}n.$inject=["$q","Restangular","ImageModel"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(e){"ngInject";var t=e.service("images");return t.build=function(t){return e.restangularizeElement(null,t,"images")},t}n.$inject=["Restangular"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(e,t){"ngInject";function n(e){for(var t in e)e.hasOwnProperty(t)&&delete e[t]}function a(e){var t=angular.copy(e);n(e),Object.keys(t).sort().forEach(function(n){e[n]=t[n]})}var c={search:!1,searchTerm:"",list:[],filters:{},error:!1,update:function(){var e=this,n={_sort:"name",_embed:"images"};return this.search&&this.searchTerm&&(n.q=this.searchTerm),n.tags_like=Object.keys(this.filters).filter(function(t){return!!e.filters[t]}),t.getList(n).then(function(t){e.list=t,e.getActiveFilters().length||e.search||e.initFilters(),e.error=!1}).catch(function(t){t.status==-1&&(e.error="Can't access the server. Automatic try every 5 seconds.")})},toggleSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.search,t=this.search;this.search=e,this.searchTerm="",!e&&t&&this.update()},initFilters:function(){var e=this;n(this.filters),this.list.forEach(function(t){t.tags.forEach(function(t){e.filters[t]=!1})}),a(this.filters)},getAvailableFilters:function(){return Object.keys(this.filters)},getActiveFilters:function(){var e=this;return Object.keys(this.filters).filter(function(t){return!!e.filters[t]})}};return e(function(){c.error&&c.update()},5e3),c}n.$inject=["$interval","Contact"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n,a,c,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a),l=o(r),d=n(c),s=o(d);n(i),t.default={template:l.default,controller:s.default}}]);